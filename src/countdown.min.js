/**
 * @name angular-truelab
 * @description angular-truelab - Truelab angular modules
 * @version v0.0.0 - 2014-07-08 10:22
 * @link http://truelab.github.io/angular-truelab
 * @license MIT License, http://www.opensource.org/licenses/MIT
 **/

;(function( window, angular, undefined ){
"use strict";angular.module("truelab.countdown",[]).factory("$tlCountdown",function(a){return{$new:function(b){return new a(b)}}}).factory("$$TlCountdownLifecycle",function(){function a(){this.$$onStartFns=[],this.$$onStopFns=[],this.$$onExpireFns=[],this.$$onTickFns=[]}return a.prototype={start:function(a){return this.$$onStartFns.push(a),this},stop:function(a){return this.$$onStopFns.push(a),this},expire:function(a){return this.$$onExpireFns.push(a),this},tick:function(a){return this.$$onTickFns.push(a),this}},a}).factory("$$TlCountdown",function(a,b,c){function d(a,b){var c=a.$lifecycle["$$"+b+"Fns"];angular.forEach(c,function(b){b.call(a)})}function e(a){return a.$seconds<=0?void a.stop():(a.$$running=!0,a.$running=!0,a.$$stopped=b(function(){return a.$$running=!0,a.$running=!0,a.$seconds--,a.$seconds<=0?(d(a,"onExpire"),a.$$expired=!0,a.$expired=!0,void a.stop()):(d(a,"onTick"),void e(a))},1e3),a.$$stopped)}function f(b){var c=this;c.$seconds=b.seconds||0,c.$lifecycle=new a,c.$running=!1,c.$expired=!1,c.$$seconds=c.$seconds,c.$$expired=!1,c.$$running=!1,c.$$stopped=void 0}return f.prototype.start=function(){var a=this;return a.$$expired===!0?void c.error("can't start expired countdown!"):a.$$running!==!1?void c.error("can't start already running!"):(d(a,"onStart"),void e(a))},f.prototype.stop=function(){var a=this;b.cancel(a.$$stopped),a.$$running=!1,a.$running=!1,d(a,"onStop")},f});
}(window, angular));